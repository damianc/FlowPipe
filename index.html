<!doctype html>
<html>

<head>
	<script src="FlowPipe.js"></script>
</head>

<body>

<script>
var str = flow('kris').pipe(flow.$ + '!').pipe(String.prototype.toUpperCase.bind(flow.$));
console.log(str.get());

var arr = flow(['a', 'b', 'd'])
	.pipe(flow.$.pop(), flow.$orig)
	.pipe(Array.prototype.push.bind(flow.$)('c'), flow.$orig)
	.pipe(Array.prototype.push, {this: flow.$, args: ['d', 'e']}, flow.$orig)
	.pipe(Array.prototype.pop, {this: flow.$}, flow.$orig);
console.log(arr.get());

var num = flow(10).pipe(++flow.$).pipe(flow.$*2).pipe(Math.pow, 2).pipe(Math.max, {args: [200, flow.$, 800]});
console.log(num.get());

var obj = flow({a: 1}).pipe(Object.assign, {args: 0, xargs: 0}).pipe(Object.assign, {this: window, that: document})
	.pipe(Object.assign, {args: [flow.$, {c:2, d:3}, {e:40}], this: null}).pipe(delete flow.$['that'], flow.$orig);
console.log(obj.get());
</script>

</body>

</html>
